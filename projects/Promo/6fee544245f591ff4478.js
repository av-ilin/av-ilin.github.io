let section=null,options={root:null,rootMargin:"0px",threshold:Math.min(.5,.5*window.innerWidth/1170)},callback=function(e){e.forEach((function(e){e.isIntersecting&&(null==section&&(section=e.target),section.classList.remove("section--active"),e.target.classList.add("section--active"),section=e.target)}))};observer=new IntersectionObserver(callback,options),Array.from(document.getElementsByClassName("section")).forEach((e=>observer.observe(e))),console.log(observer.thresholds);